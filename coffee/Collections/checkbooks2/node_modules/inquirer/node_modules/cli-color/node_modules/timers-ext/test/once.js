/***
 * Excerpted from "CoffeeScript: Accelerated JavaScript Development, Second Edition",
 * published by The Pragmatic Bookshelf.
 * Copyrights apply to this code. It may not be used to create training material, 
 * courses, books, articles, and the like. Contact us if you are in doubt.
 * We make no guarantees that this code is fit for any purpose. 
 * Visit http://www.pragmaticprogrammer.com/titles/tbcoffee2 for more book information.
***/
'use strict';

module.exports = function (t, a, d) {
	var called = 0, fn = t(function () { ++called; });

	fn();
	fn();
	fn();
	setTimeout(function () {
		a(called, 1);

		called = 0;
		fn = t(function () { ++called; }, 50);
		fn();
		fn();
		fn();

		setTimeout(function () {
			fn();
			fn();

			setTimeout(function () {
				fn();
				fn();

				setTimeout(function () {
					fn();
					fn();

					setTimeout(function () {
						a(called, 1);
						d();
					}, 70);
				}, 30);
			}, 30);
		}, 30);
	}, 10);
};
